<html>

<head>
        <style>
                body {
			overflow: visible;
                        font-size: 1.2em;
			margin: 0 0 0 0;
                        border: 0 0 0 0;
                        padding: 0 0 0 0;
                        background: #a0a0a0;
                }

		#outer {
			margin: 0 0 0 0;
			padding: 0 0 0 0;
			border: 0 0 0 0;
			display: block;
                }

		#buttonsDiv {
			margin: auto;
			width: 100%;
			text-align: center;
		}

                #pageCollDiv {
                        overflow-y: scroll;
                        background: #dadada;
                        display: inline-block;
			margin: 0 0 0 0;
			padding: 0 0 0 0;
			border: 0 0 0 0;
                }

		#workingPane {
			float: right;
                        overflow-x: scroll;
                        overflow-y: scroll;
                        background: #606060;
                        display: inline-block;
			margin: 0 0 0 0;
			padding: 0 0 0 0;
			border: 0 0 0 0;
		}

                .button {
                        margin: auto;
                        height: 50px;
			min-width: 100px;
                        font-size: 1em;
			margin: 0 auto;
                }

		.mainButtons {
			display: inline-block;
		}

        </style>
        <script>
                function getCookie(cookieName) {
                        let name = cookieName + "=";
                        let decodedCookie = decodeURIComponent(document.cookie);
                        let cookies = decodedCookie.split(';');
                        for (let i = 0; i < cookies.length; i++) {
                                let cookie = cookies[i];
                                while (cookie.charAt(0) == ' ') {
                                        cookie = cookie.substring(1);
                                }
                                if (cookie.indexOf(name) == 0) {
                                        return cookie.substring(name.length, cookie.length);
                                }
                        }
                        return "";
                }
                let sessionId = getCookie('sessionid');

		function resizer() {
			let myHeight = document.documentElement.clientHeight;
			let myWidth = document.documentElement.clientWidth;
			let pageCollDiv = document.getElementById("pageCollDiv");
			let workingPane = document.getElementById("workingPane");
			let outer = document.getElementById("outer");
			outer.style.height = myHeight + "px";
			outer.style.width = myWidth + "px";
			pageCollDiv.style.height = myHeight + "px";
			pageCollDiv.style.width = ((myWidth * 0.25) - 2) + "px";
			workingPane.style.height = myHeight + "px";
			workingPane.style.width = ((myWidth * 0.75) - 2) + "px";

		}

		function pull() {
			let data = {
				"session": sessionId,
				"pull": 1,
				"push": 0,
				"scope": ""
			}

			fetch("/pull", {
				method: "POST", 
				cache: "no-cache", 
				headers: {"Content-Type": "application/json"},
				body: JSON.stringify(data)
			})
			.then((data) => data.json())
			.then((content) => {
				console.log(content);
			});
		}

        </script>
</head>

<body>

	<div id="outer">
		<div id="pageCollDiv">
			<div id="buttonsDiv">
                       		<button type="button" id="pullButton" class="button mainButtons">Pull</button>
                       		<button type="button" id="pushButton" class="button mainButtons">Push</button>
			</div>
			<div id="pageColl">
			</div>
		</div>
		<div id="workingPane">
		</div>
	</div>


</body>

<script>
        document.getElementById('pullButton').addEventListener(
                "click",
                (event) => {
			pull();
                }
        );

	window.addEventListener(
		"resize",
		(event) => {
			resizer();
		}
	);

	resizer();
</script>

</html>
